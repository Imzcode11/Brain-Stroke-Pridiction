<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Brain Stokes Prediction</title>
  </head>
  <body style="background-image: url('https://magazine.medlineplus.gov/images/uploads/main_images/_rss_image/stroke-brain-imaging.jpg');background-size: cover; background-repeat: no-repeat; background-position: center">
    <div class="header">      
      <h1 style="text-align: center; color: #FAF0DD; font-size: 40px; font-family: sans-serif ; margin-top: 30px;"><b></b></h1>      
  </div>
      <div class = "container">
      <div class = "row">
        <div class = "transparent-card"  style="width: 70%; height: 70%; margin:auto; margin-top: 50px;background-color:rgba(0, 0, 0, 0.5); border: 1px solid rgba(0, 0, 0, 0.2); box-shadow: 0px 0px 10px rgba(10, 20, 30, 40);" >
          <div class = "card-header" style="text-align: center; color: #FAF0DD;">
            <h1 style="margin-top: 5px;"><b>Brain Strokes Prediction</b></h1>
          </div>
          <h3 style="text-align: center; font-size: 15px;font-family: 'Arial'; margin-top: 20px; color: #FAF0DD;"><b>A stroke, sometimes called a brain attack, occurs when something blocks blood supply to part of the brain or when a blood vessel in the brain bursts. In either case, parts of the brain become damaged or die. A stroke can cause lasting brain damage, long-term disability, or even death. this model is created on surveyed Data.</b></h3>
          
          <div class = "card-body" style="background-size: cover;">
            <form method = "post"  style="color: #FAF0DD;font-family: 'Trebuchet MS';font-size: medium;" accept-charset = "utf-8", id = "booking-form", class="booking form"  >
              
              <div class = "row">
                <div class = "col-md-4 form-group" style = "text-align: center;">
                  <label><b>Gender</b></label>
                  <select class = "selectpicker form-control" id = "gender" name = "gender" required = "1" style="text-align: center;">
                    <option value="">-- Select Gender--</option>
                    {% for gender in gender %}
                    <option value = "{{gender}}">{{gender}}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class = "col-md-4 form-group" style = "text-align: center;">
                  <label><b>Age</b></label>
                  <input type = "text" class = "form-control" id = "age" name = "age" placeholder = "Enter Age" style="text-align: center;">
                </div>
                <div class = "col-md-4 form-group" style = "text-align: center;">
                  <label><b>Residential Status</b></label>
                  <select class = "selectpicker form-control" id = "residence" name = "residence" required = "1" style="text-align: center;">
                    <option value="">-- Select residential Status--</option>
                    {% for residence in residence %}
                    <option value = "{{residence}}">{{residence}}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                  <label><b>hypertension</b></label>
                  <input type = "text" class = "form-control" id = "hypertension" name = "hypertension" placeholder = "Enter hypertension" style="text-align: center;">
                </div>
                <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                  <label><b>Heart Disease</b></label>
                  <input type = "text" class = "form-control" id = "heart_disease" name = "heart_disease" placeholder = "Enter Disease Status" style="text-align: center;">
                </div>
                <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                  <label><b>Maritial Status</b></label>
                  <select class = "selectpicker form-control" id = "married" name = "married" required = "1" style="text-align: center;">
                    <option value="">-- Select Martial Status--</option>
                    {% for married in married %}
                    <option value = "{{married}}">{{married}}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                  <label><b>Employment Status</b></label>
                  <select class = "selectpicker form-control" id = "work" name = "work" required = "1" style="text-align: center;">
                    <option value="">-- Select Employment status --</option>
                    {% for work in work %}
                    <option value = "{{work}}">{{work}}</option>
                    {% endfor %}
                  </select>
                </div>
              
                <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                    <label><b>Glucose Level</b></label>
                    <input type = "text" class = "form-control" id = "level" name = "level" placeholder = "Enter Glucose Level" style="text-align: center;">
                </div>
              <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                  <label><b>Bosy Mass Index</b></label>
                  <input type = "text" class = "form-control" id = "bmi" name = "bmi" placeholder = "Enter BMI" style="text-align: center;">
              </div>
              <div class = "col-md-4 form-group" style = "text-align: center;margin-top: 20px">
                <label><b>Smoking Status</b></label>
                <select class = "selectpicker form-control" id = "smoke" name = "smoke" required = "1" style="text-align: center;">
                  <option value="">-- Select Smoking Status--</option>
                  {% for smoke in smoke %}
                  <option value = "{{smoke}}">{{smoke}}</option>
                  {% endfor %}
                </select>
              </div>
                
                <div class = "col-md-12 form-group" style="margin-top: 30px;">
                  <button class = "btn btn-primary form-control" style="color: #FAF0DD;background-image: url(https://thumbs.gfycat.com/AnimatedDeficientAlleycat-max-1mb.gif);" onclick = "send_data()"><b>Click Here to Predict</b></button>
                </div>
              </div>

            </form>
            <br>
            <div class = "col-md-12" style="text-align: center; color: whitesmoke;">
              <h3 style="color: #FAF0DD;"><span id = "Estimated Charge"></span></h3>
            </div>

          </div>
        </div>
      </div>
    </div>
    
    
    <script>
      function form_handler(event) {
        event.preventDefault();
      }
      function send_data()
      {
        document.querySelector('form').addEventListener("submit",form_handler);

        var fd = new FormData(document.querySelector('form'));

        var xhr = new XMLHttpRequest();

        xhr.open("POST",'/predict',true);
        document.getElementById("Estimated Charge").innerHTML = "Hold on Analyzing......";
        xhr.onreadystatechange = function() {
          if(xhr.readyState == XMLHttpRequest.DONE){
            document.getElementById("Estimated Charge").innerHTML = "Prediction :  "+xhr.responseText;
          }
        };
        xhr.onload = function(){};
        xhr.send(fd);
      }
    </script>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

  </body>
</html>